<% include modular/header %>
<section ng-controller="recuperarContrasenyaController" class="section container-fluid" ng-init="init('<%=token%>')">
    <form name="formRegistro" ng-submit="formRegistro.$valid && submitFormNuevaContrasenya(formData)" novalidate
          class="form-horizontal text-center col-md-offset-2 col-md-10">
        <legend>Recuperar contraseña</legend>
        <div class="form-group">
            <label for="contrasenya" class="col-xs-12 col-sm-12 col-md-2 col-lg-2 control-label">Contraseña</label>
            <div class="col-xs-12 col-sm-12 col-md-10 col-lg-6">
                <input
                        type="password"
                        id="contrasenya"
                        name="contrasenya"
                        class="form-control"
                        placeholder="Mínimo 6 caracteres"
                        ng-minlength="6"
                        ng-model="formData.contrasenya"
                        validar-contrasenya="{{formData.recontrasenya}}"
                        required/>
            </div>
            <div class="help-block" ng-messages="formRegistro.contrasenya.$error"
                 ng-if="formRegistro.contrasenya.$dirty">
                <p ng-message="required">La contraseña es obligatoria.</p>
                <p ng-message="minlength">La contraseña es demasiado corta.</p>
                <p ng-message="validarContrasenya">Las contraseñas no coinciden.</p>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-12 col-sm-12 col-md-10 col-lg-6 col-md-offset-2 col-lg-offset-2">
                <input
                        type="password"
                        id="recontrasenya"
                        name="recontrasenya"
                        class="form-control"
                        placeholder="Repite la contraseña..."
                        ng-model="formData.recontrasenya"
                        validar-contrasenya="{{formData.contrasenya}}"
                        required/>
            </div>
            <div class="help-block" ng-messages="formRegistro.recontrasenya.$error"
                 ng-if="formRegistro.recontrasenya.$dirty">
                <p ng-message="required">Repetir la contraseña es obligatorio.</p>
            </div>
        </div>
        <div class="form-group text-center col-md-10 col-lg-6">
            <button
                    type="submit"
                    class="btn btn-success"
                    ng-disabled="!formRegistro.$valid">Guardar
            </button>
        </div>
</section>
<% include modular/footer %>