<%include header%>
<!--Contenido-->
<section id="buscador" class="buscador section offset-header">
	<div class="container text-center">
		<label for="campo-buscar">Encuentra tu universidad, carrera o profesor</label>
		<div class="form-group row">
			<input type="text" id="campo-buscar" class="form-control col-9" aria-describedby="icon-search"/>
		</div>
	</div>
	<div class="divider-black"></div>
</section>
<section id="top-five-uni-esp" class="top-five-uni-esp section container-fluid">
	<h2>Las 5 universidades mejor valoradas</h2>
	<canvas id="ranking-universidades" class="col-xs-12 col-sm-12 col-md-offset-2 col-md-8 col-lg-offset-2 col-lg-8"></canvas>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js' crossorigin="anonymous"></script>
	<script>
		//Creamos los datos
		var datos = [
						{"nombre": "UA", "satisfaccion" : 456},
						{"nombre": "UMH", "satisfaccion" : 479},
						{"nombre": "UCM", "satisfaccion" : 324},
						{"nombre": "UCAM", "satisfaccion" : 569}
					]
		//Ordenamos el vector para que salgan en orden
		datos.sort(function(a, b){ return b.satisfaccion - a.satisfaccion});

		var abreviaturas = [];
		var satisfaccion = [];
		//Creamos los 2 vectores, el de datos y el de etiquetas
		for (uni in datos)
		{
			abreviaturas.push(datos[uni].nombre);
			satisfaccion.push(datos[uni].satisfaccion);
		}

		var bardata = {
			labels: abreviaturas,
			datasets: [
				{
					label: "Satisfaccion",
					backgroundColor : ["#999900", "#c0c0c0", "#996633", "#fff"],
					borderColor: ["#000", "#000", "#000", "#000"],
					borderWidth: 2,
					data : satisfaccion
				}
			]
		}
		var rankunis = document.getElementById('ranking-universidades').getContext('2d');
		var chart = new Chart(rankunis, {
			type: 'horizontalBar',
			data: bardata,
			options: {
				responsive: true,
				maintainAspectRatio: true,
				legend: {
					display: false
				}
			}
		});
	</script>
</section>
<% include footer %>
